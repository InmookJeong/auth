# 요구사항 정의

## 1. 기능 요구사항(SFR; System Function Requirement)

### 1) 회원가입
- 관리자는 회원가입 API를 통해 직접 일반 회원의 정보를 등록할 수 있다.
- 일반 사용자는 회원가입 API를 통해 회원 정보를 등록할 수 있다.
- 회원가입 API를 실행하기 전 '정보 제공 동의' API를 호출하여 '정보 제공 동의' 목록을 열람할 수 있다.
- 회원가입시 '정보 제공 동의' 항목에 대한 동의 여부 값을 같이 전달하도록 안내해야 한다.
- 회원가입 API를 실행하기 전 'ID', '휴대전화 번호', '이메일'에 대한 중복 여부를 확인해야 하며, 이를 위한 API 사용 방법을 안내해야 한다.
- 회원가입 API를 실행하기 전 비밀번호가 '입력 형식'에 맞게 작성이 되었는지 확인해야 하며, 이를 위한 API 사용 방법을 안내해야 한다.
- 'ID', '휴대전화 번호', '이메일'가 모두 중복되지 않고 비밀번호가 '입력 형식'에 맞게 작성이 되었을 경우 회원가입을 진행할 수 있다.
- 회원가입을 위해 전송되어야 하는 정보는 다음과 같다.
    - 계정(account)
    - 비밀번호(password)
    - 비밀번호 재입력(password2)
    - 이름(name)
    - 생년월일(birth)
    - 성별(gender)
    - 휴대전화 번호(phoneNumber)
    - 이메일(email)
    - 주소(address)
    - 정보 제공 동의 여부(termOfUseValues)
- 아이디(ID)와 생성일자(createDate)는 자동으로 입력된다.
- 회원가입 결과는 JSON 형식으로 반환한다.
- 회원가입을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 2) 회원탈퇴
- 회원과 관리자는 '회원탈퇴' API를 통해 가입된 정보를 삭제할 수 있다.
- 회원은 '회원탈퇴' API를 통해 아래 정보를 전송해야 한다.
    - 계정(account)
    - 비밀번호(password)
- 회원은 자신의 계정과 비밀번호를 전송해야 하며, 전달된 데이터가 유효할 경우 회원탈퇴를 통해 자신의 정보를 삭제한다.
- 관리자는 '회원탈퇴' API를 통해 아래 정보를 전송해야 한다.
    - 관리자 계정(adminAccount)
    - 관리자 비밀번호(adminPassword)
    - 삭제 대상 계정(targetAccount)
- 관리자는 관리자 계정과 관리자 비밀번호를 전송해야 하며, 전달된 데이터가 유효할 경우 삭제 대상 계정(targetAccount)을 삭제한다.
- 회원 탈퇴 결과는 JSON 형식으로 반환한다.
- 회원탈퇴를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 3) 로그인
- 회원가입시 입력한 계정(account)과 비밀번호(password)를 API로 전송하여 로그인을 할 수 있다.
- 로그인을 5회 이상 실패할 경우 계정을 비활성화 한다.
- 비활성화된 계정은 이메일 인증을 통해 활성화할 수 있다.
- 로그인 결과는 JSON 형식으로 반환한다.
- 로그인을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 4) 로그아웃
- 로그아웃 API를 실행하여 로그아웃을 할 수 있다.
- 로그아웃 결과는 JSON 형식으로 반환한다.
- 로그아웃을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 5) 회원 목록 조회
- 회원 목록 조회는 관리자 권한을 가진 회원만 사용할 수 있다.
- 회원 목록을 조회하기 위한 검색 조건 및 필터는 다움과 같다.
    - 계정(account)
    - 이름(name)
    - 이메일(email)
    - 성별(gender)
    - 생년(yyyy)
    - 활성화 여부(activeYN)
- 아이디(ID), 계정(account), 이름, 이메일, 성별, 생년 정보를 기준으로 각각 정렬 조건을 추가할 수 있다.
- 회원 목록이 없는 경우 "조회된 회원 정보가 없습니다."라는 메시지를 사용자에게 전달한다.
- 회원 목록이 있는 경우 JSON 형식으로 결과를 반환한다.
- 회원 목록 조회를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 6) 회원 정보 상세 조회
- 회원은 자신의 정보를 조회할 수 있다.
- 관리자는 회원들의 정보를 상세 조회할 수 있다.
- API를 통해 회원 아이디(ID) 또는 계정(account)를 전달하여 상세 정보를 조회한다.
- 전달된 아이디(ID) 또는 계정(account)이 유효하지 않을 경우 "회원 정보를 조회할 수 없습니다. 아이디를 다시 확인해주세요."라는 메시지를 사용자에게 반환한다.
- 회원 상세 정보는 JSON 형식으로 결과를 반환한다.
- 회원 정보 상세 조회를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 7) 회원 정보 수정
- 회원은 자신의 정보를 수정할 수 있다.
- 관리자는 회원의 정보를 수정할 수 있다.
- 단, 아이디와 휴대전화 번호, 이메일은 변경할 수 없다.
- 회원 정보 수정 결과는 JSON 형식으로 반환한다.
- 회원 정보를 수정하기 위한 핵심 값(KEY)은 아이디(ID)이다.
- 회원 정보 수정을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 8) 아이디(계정) 찾기
- 회원은 다음 입력 정보 중 하나를 선택해 계정(account)를 찾을 수 있다.
    - 이름 + 이메일
    - 이름 + 휴대전화 번호
- 조회된 계정(account)는 세 번째 글자까지 정상적으로 출력되며, 그 외의 문자는 별표(*)로 표시된다.
- 조회된 계정(account)가 없는 경우 "등록된 회원 정보가 없습니다."라는 메시지를 사용자에게 전달한다.
- 조회 결과는 JSON 형식으로 반환한다.
- 아이디 찾기를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 9) 비밀번호 찾기
- 회원은 다음 입력 정보 중 하나를 선택해 아이디를 찾을 수 있다.
    - 계정(account) + 이름 + 이메일
    - 계정(account) + 이름 + 휴대전화 번호
- 저장된 회원 정보가 있는 경우 임시 비밀번호를 발급하여 사용자에게 전달한다.
- 저장된 회원 정보가 없는 경우 "등록된 회원 정보가 없습니다."라는 메시지를 사용자에게 전달한다.
- 조회 결과는 JSON 형식으로 반환한다.
- 비밀번호 찾기를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 10) 비밀번호 변경
- 회원은 자신의 비밀번호를 수정할 수 있다.
- 관리자는 회원의 비밀번호를 수정할 수 있다.
- 아이디(ID) 또는 계정(account), 현재 비밀번호, 새로운 비밀번호, 새로운 비밀번호(재입력)를 입력하여 비밀번호를 변경할 수 있다.
- 비밀번호 변경 결과는 JSON 형식으로 반환한다.
- 비밀번호 변경을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 11) 회원 활성화/비활성화
- 관리자는 회원 계정을 활성화 또는 비활성화 할 수 있다.
- 회원은 휴면 계정으로 등록되었을 경우 사용자 정보 인증을 통해 계정을 활성화할 수 있다.
- 관리자는 설정 메뉴를 통해 회원 정보를 활성화/비활성화 기능을 사용할지 결정할 수 있다.
- 회원 계정 활성화/비활성화 결과는 JSON 형식으로 반환한다.
- 회원 계정을 활성화/비활성화 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 12) 휴면 계정 등록(자동)
- 로그인 시 비밀번호를 5회 이상 실패한 경우 회원 정보를 비활성화한다.
- 마지막 로그아웃 날짜를 기준으로 6개월 동안 로그인 이력이 없는 경우 회원 정보를 비활성화한다.
- 비밀번호 실패 횟수(5회)와 마지막 로그아웃 기간(6개월)은 기본 값이며, 관리자가 수정할 수 있다.

### 13) 로그인, 로그아웃 이력 저장
- 로그인, 로그아웃 시 다음과 같은 정보를 이력 테이블에 저장한다.
    - 아이디(ID)
    - 아이피
    - 맥주소
    - 운영체제
    - 시간
    - 로그인/로그아웃 구분
    - 등록시간

### 14) API 사용 이력 저장
- 모든 API의 사용 이력은 테이블에 저장된다.
- 사용 이력은 관리자만 조회할 수 있다.
- API 사용 이력 조회 결과는 JSON 형식으로 반환한다.

### 15) '정보 제공 동의 약관' 조회
- 사용자는 API를 통해 '정보 제공 동의 약관' 목록을 조회할 수 있다.
- '정보 제공 동의 약관' 조회 결과는 JSON 형식으로 반환한다.
- '정보 제공 동의 약관' 조회 시도 및 결과는 모두 이력 테이블에 저장한다.

### 16) '정보 제공 동의 약관' 등록
- 관리자는 '정보 제공 동의 약관' 항목을 등록할 수 있다.
- '정보 제공 동의 약관' 항목 등록 결과는 JSON 형식으로 반환한다.
- '정보 제공 동의 약관' 항목 등록을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 17) '정보 제공 동의 약관' 수정
- 관리자는 '정보 제공 동의 약관' 항목을 수정할 수 있다.
- '정보 제공 동의 약관' 항목 수정 결과는 JSON 형식으로 반환한다.
- '정보 제공 동의 약관' 항목 수정을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 18) '정보 제공 동의 약관' 삭제
- 관리자는 '정보 제공 동의 약관' 항목을 삭제할 수 있다.
- '정보 제공 동의 약관' 항목 삭제 결과는 JSON 형식으로 반환한다.
- '정보 제공 동의 약관' 항목 삭제를 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

### 19) 비밀번호 작성 규칙 등록
- 관리자는 회원가입 또는 비밀번호 변경 시 정합성을 체크할 수 있도록 '비밀번호 작성 규칙'을 등록할 수 있다.
- 비리번호 작성 규칙 등록/수정 결과는 JSON 형식으로 반환한다.
- 비밀번호 작성 규칙 등록/수정을 시도한 이력과 결과는 모두 이력 테이블에 저장한다.

## 2. 성능 요구사항(PER; Performance Requirement)

### 1) 서비스 응답 시간
- 모든 질의는 사용자 요청으로부터 3초 이내에 결과를 제공한다.
- 통계성 질의는 30초 이내에 결과를 제공한다.

### 2) 오류 응답 시간
- 사용자가 입력한 정보에서 발생 가능한 모든 오류는 3초 이내에 메시지를 반환한다.

## 3. 인터페이스 요구사항(IR; Interface Requirement)

### 1) 인터페이스 표준 수립
- 기본적으로 모든 기능은 RESTful API를 인터페이스로서 제공한다.
- RESTful API에 대한 목록, 정의서를 기준으로 개발 가이드를 제공한다.

### 2) 온라인 매뉴얼 제공
- 사용자가 온라인을 통해 RESTful API 사용 방법을 확인할 수 있도록 매뉴얼을 제공한다.

## 4. 데이터 요구사항(DAR; Data Requirement)

### 1) 데이터베이스 설계 요구사항
- 민감한 개인정보는 암호화하여 저장한다.

## 5. 테스트 요구사항(TER; Test Requirement)

### 1) 테스트 방안 제시
- 요구사항별 적합, 부적합을 판정할 수 있도록 체계적인 테스트 방안을 제시해야 한다.
- 품질 요건을 충족하는 테스트 방안을 제시해야 한다.

### 2) 단위 테스트 및 통합 테스트
- 각 기능의 요구사항을 나열하여 단위 테스트를 수행해야 한다.
- 개발자 누구나 쉽게 환경을 구축하고 자도오하 테스트를 수행할 수 있어야 한다.
- 통합 테스트는 솔루션 간 연계 테스트를 진행할 수 있도록 지원해야 한다.